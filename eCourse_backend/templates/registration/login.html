{% extends "base.html" %}

{% block additional-head %}
<style>
    input {
        max-width: 400px;
    }

    .input-group-text {
        width: 40px;
    }
    .errorIcon {
        font-size: 2em;
    }
</style>
{% endblock %}

{% block navbar-content %}
<h2>Login</h2>
<ul class="navbar-nav">
    <li class="nav-item">
        <a class="nav-link" href="#">Sign up</a> <!-- TODO: make work -->
    </li>
</ul>
{% endblock %}


{% block content %}
<!-- TODO: RÃ¼ckmeldungen -->
{% if form.errors %}
<div class="container-fluid border-dark border" style="background-color: lightgray;">
    <div class="row">
        <div class="col-sm-1 align-content-center">
            <span class="bi bi-exclamation-octagon-fill text-danger errorIcon"></span>
        </div>
        <div class="col-sm-11">
            <h5>Username and Password didn't match</h5>
            <h5>Please try again!</h5>
        </div>
    </div>
</div>
{% endif %}

{% if next %}
    {% if user.is_authenticated %}
    <div class="container-fluid border-dark border" style="background-color: lightgray;">
        <div class="row">
            <div class="col-sm-1 align-content-center">
                <span class="bi bi-exclamation-octagon-fill text-danger errorIcon"></span>
            </div>
            <div class="col-sm-11">
                <h5>Your account doesn't have access to this page.</h5>
                <h5>To proceed, please login with an account that has access.</h5>
            </div>
        </div>
    </div>
    {% else %}
    <div class="container-fluid border-dark border" style="background-color: lightgray;">
        <div class="row">
            <div class="col-sm-1 align-content-center">
                <span class="bi bi-exclamation-octagon-fill text-danger errorIcon"></span>
            </div>
            <div class="col-sm-11">
                <h5>Please login to see this page.</h5>
            </div>
        </div>
    </div>
    {% endif %}
{% endif %}

<!-- Formular -->
<form method="post">
    {% csrf_token %}
    <table class="table table-borderless">
        <tbody>
            <tr>
                <td style="width: 0px;">
                    <label for="id_username">
                        <h5>Username:</h5>
                    </label>
                </td>
                <td>
                    <!-- <input type="email" class="form-control" placeholder="Enter E-Mail" id="ema" -->
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text">
                                <i class="bi bi-person"></i>
                            </div>
                        </div>
                        <input id="id_username" class="form-control" type="text" name="username" autofocus=""
                        autocapitalize="none" autocomplete="username" maxlength="150" required="">
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="id_password">
                        <h5>Password:</h5>
                    </label>
                </td>
                <td>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text">
                                *
                            </div>
                        </div>
                        <input id="id_password" class="form-control" type="password" name="password" 
                        autocomplete="current-password" required=""> 
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="container-fluid">
        <button class="btn btn-lg btn-danger" type="submit">Login</button>
    </div>
</form>

{% endblock %}